<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> UI demo </title>
    <!-- <link href="../../css/global.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/bootstrap-theme.min.css">
    <style>
		.form-wrap{border-radius: 3px; background-color: #f1f1f1; padding: 20px; border:1px solid #999;}

		#dropbox{line-height: 200px; text-align: center; font-size:16px; }
		#dropbox img{width: 100%; vertical-align: top;}
    </style>
</head>

<body>

<h1>Base64 编码/解码</h1>


<div class="form-wrap">
<form action="" id="in" target="anonymous" method="post">

	<div id="dropbox" style="width: 200px; height: 200px; border:1px solid #999;">点击浏览或拖拽图片</div>
	<input type="file" id="file" style="display: none"/>

	<!--<div class="uiTxt"><em> Option2:</em>字符串拷贝到这里</div>-->
	<!--<textarea name="raw" id="" cols="50" rows="5"></textarea>-->

	<!--<div class="uiTxt"><em> Option3:</em>或者输入线上地址</div>-->
	<!--<input name="url" type="text" class="form-control" placeholder="http://path/to/myfile" aria-describedby="sizing-addon2">-->
	<!---->
	<!--<div class="uiTxt"><em> 解码结果是否在新窗口打开：</em></div>-->
	<!--<label><input name="isNewTabOpen" type="radio" checked> 是</label>-->
	<!--<label><input name="isNewTabOpen" type="radio" > 否</label>-->

	<!--<div data-xrole="encode" class="btn primary" >编码</div>-->
	<!--<div data-xrole="decode" class="btn primary" >解码</div>-->
</form>
</div>

<div id="out" style="width: 200px; height: 200px; border:1px solid red; overflow: scroll" contenteditable=""></div>

<iframe name="anonymous" src="" frameborder="0" style="display:none;"></iframe>
<!-- demo end -->

<script src="http://assets.dwstatic.com/common/js/jquery.js"></script>
<script>

	// 1.1 core api
//	function encode64(str) {
//		return new Buffer(str).toString('base64')
//	}
//	function decode64(str) {
//		return new Buffer(str, 'base64').toString()
//	}

	// 1.2 local api
	// ...
	
	// 2.1 text encode
	var $form = $('#in'),
		$encode = $form.find('[data-xrole="encode"]'),
		$result = $('#out')

	$form.on('click', '[data-xrole="encode"]', function(e){
		var input = '@todo' // input = $(form).serialize()
		var output = require('./js/base64').encode(input)
		$result.text(output)
	})

	$form.on('click', '[data-xrole="decode"]', function(e){
		var input = 'QHRvZG8' // input = $(form).serialize()
		var output = require('./js/base64').decode(input)
		$result.text(output)
	})


	//
	$("#fileInput").on("change", function () {
		var files = $(this)[0].files;
		for (var i = 0; i < files.length; ++i) {
			alert(files[i].path);
		}
	});
	
</script>
<script src="index.js"></script>
</body>

</html>
